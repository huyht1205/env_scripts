#!/bin/bash

ROOT_DIR=$(dirname $(realpath ${BASH_SOURCE[0]}))
source ${ROOT_DIR}/utils.sh

complete -cf sudo
complete -cf which

export VISUAL=vim
export LC_ALL=en_US.UTF-8
export LANG=en_US.UTF-8

CPU_CORE=$(cat /proc/cpuinfo | grep -c ^processor)

alias ls='ls -h --color=auto'
alias ll='ls -l'
alias la='ls -la'
alias df='df -Th'
alias mkdir='mkdir -p -m 775'
alias grep='grep --color=auto --exclude=tags'
alias egrep='egrep --color=auto --exclude=tags -n'
alias df='df -Th'
alias make='make -j${CPU_CORE}'
alias cdgit='cd /data/git_repo'
alias cdwork='cd /data/workspace'
alias cdbuildroot='cd /data/buildroot'
alias dkc='docker container ls -a'

SSH_OPTS="-4"
alias ssh='ssh ${SSH_OPTS}'
SSHFS_OPTS="-o cache=yes -o kernel_cache -o compression=no"
alias sshfs='sshfs ${SSHFS_OPTS}'

export PATH=${PATH}:/data/git_repo/env_scripts/dev-scripts

function addAlias
{
	vim ~/.bash_aliases ; source ~/.bash_aliases
}

function addAliasPrivate
{
	vim ~/.bash_aliases_$(uname) ; source ~/.bash_aliases_$(uname)
}

function CmakeTemplate()
{
	if [[ -z ${1} ]]; then
		echo "Usage: ${0} <lib|bin>"
		return -1
	fi

    CMAKE_TEMPLATE_PATH=/data/git_repo/env_scripts/automation/template/cmake
    cp ${CMAKE_TEMPLATE_PATH}/CMakeLists_${1}.template ${PWD}/CMakeLists.txt
    cp ${CMAKE_TEMPLATE_PATH}/CMakeBase.inc ${PWD}
}

function CmakeClean()
{
    rm -rf CMakeCache.txt  CMakeFiles  cmake_install.cmake Makefile
}

function BashTemplate()
{
	if [[ -z ${1} ]]; then
		echo "Usage: ${0} <script name>"
		return -1
	fi

    BASH_TEMPLATE_PATH=/data/git_repo/env_scripts/automation/template/bash
    cp ${BASH_TEMPLATE_PATH}/Bash_script.template ${1}
}

source ~/.bash_aliases_$(uname)
